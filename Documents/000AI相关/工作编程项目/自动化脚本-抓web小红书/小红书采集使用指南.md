# 小红书联想词采集工具 - 快速使用指南

## 🚀 快速开始

### 第一步：准备关键词文件

在 `data/input/` 目录下创建 `keywords.csv` 文件：

```csv
client,keyword
优贝,儿童自行车
优贝,青少年自行车
思迈特,健康管理
永洪,数据分析
```

### 第二步：运行程序

**Windows用户：**
双击 `run_xiaohongshu.bat`

**Mac/Linux用户：**
```bash
./run_xiaohongshu_scraper.sh
```

### 第三步：查看结果

- 📊 CSV结果：`data/output/2025-10-22/`
- 📸 截图文件：`screenshots/2025-10-22/`

## ⚙️ 高级用法

### 手动运行（推荐智能版本）

```bash
# 后台运行
python src/smart_xiaohongshu_scraper.py --input data/input/keywords.csv --outdir data/output --shots screenshots

# 显示浏览器界面（调试用）
python src/smart_xiaohongshu_scraper.py --input data/input/keywords.csv --outdir data/output --shots screenshots --headful
```

### 基础版本运行

```bash
python src/xiaohongshu_scraper.py --input data/input/keywords.csv --outdir data/output --shots screenshots --headful
```

## 🔧 配置说明

编辑 `config/config.yml` 调整采集参数：

- `timeouts.page_load`: 页面加载超时时间
- `retry.max_attempts`: 最大重试次数
- `retry.delay`: 重试间隔时间

## 📋 输出格式

CSV文件包含以下字段：
- `date`: 采集日期
- `client`: 客户名称  
- `platform`: 平台（xiaohongshu）
- `keyword`: 原始关键词
- `rank`: 联想词排名
- `suggestion_text`: 联想词内容
- `page_url`: 页面URL
- `screenshot_path`: 截图路径
- `source_mode`: 数据来源（DOM/OCR/FALLBACK）

## ❓ 常见问题

**Q: 程序运行后没有结果？**
A: 
1. 检查网络连接
2. 使用 `--headful` 参数查看浏览器操作
3. 查看日志文件 `xiaohongshu_scraper.log`

**Q: 如何处理验证码？**
A: 
1. 使用 `--headful` 模式运行
2. 手动完成验证码验证
3. 程序会自动继续执行

**Q: 采集速度太慢？**
A: 
1. 调整 `config.yml` 中的超时时间
2. 检查网络状况
3. 减少关键词数量进行测试

## 🎯 采集策略

工具使用以下策略确保采集成功：

1. **搜索框策略**: 在搜索框输入关键词，获取下拉联想词
2. **搜索页面策略**: 直接访问搜索结果页面提取相关内容  
3. **兜底策略**: 生成基于关键词的合理联想词

## 📞 技术支持

遇到问题请检查：
- Python版本 >= 3.8
- 网络连接正常
- 输入文件格式正确
- 依赖包完整安装

---

**提示**: 建议首次使用时使用 `--headful` 参数，观察程序执行过程。